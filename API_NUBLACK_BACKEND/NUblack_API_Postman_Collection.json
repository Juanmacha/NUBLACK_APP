{
  "info": {
    "name": "NUblack API - Complete Collection",
    "description": "Colecci√≥n completa de endpoints para la API de NUblack",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3001",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üîê Autenticaci√≥n",
      "item": [
        {
          "name": "Registrar Usuario",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Juan\",\n  \"apellido\": \"P√©rez\",\n  \"tipo_documento\": \"C√©dula de Ciudadan√≠a\",\n  \"documento\": \"1234567890\",\n  \"telefono\": \"3001234567\",\n  \"email\": \"juan.perez@email.com\",\n  \"password\": \"MiPassword123!\",\n  \"rol\": \"cliente\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has success true\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "Login Usuario",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"juan.perez@email.com\",\n  \"password\": \"MiPassword123!\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Save token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.success && jsonData.data.accessToken) {",
                  "        pm.environment.set(\"token\", jsonData.data.accessToken);",
                  "        pm.environment.set(\"user_id\", jsonData.data.usuario.id_usuario);",
                  "    }",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "Login Administrador",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@nublack.com\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Save admin token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.success && jsonData.data.accessToken) {",
                  "        pm.environment.set(\"admin_token\", jsonData.data.accessToken);",
                  "    }",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "Obtener Perfil",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "profile"]
            }
          }
        },
        {
          "name": "Actualizar Perfil",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Juan Carlos\",\n  \"apellido\": \"P√©rez Garc√≠a\",\n  \"telefono\": \"3009876543\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "profile"]
            }
          }
        },
        {
          "name": "Cambiar Contrase√±a",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"MiPassword123!\",\n  \"newPassword\": \"MiNuevoPassword456!\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/change-password",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "change-password"]
            }
          }
        },
        {
          "name": "Solicitar Recuperaci√≥n",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"juan.perez@email.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/request-password-reset",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "request-password-reset"]
            }
          }
        },
        {
          "name": "Refrescar Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refresh_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/refresh-token",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "refresh-token"]
            }
          }
        }
      ]
    },
    {
      "name": "üõçÔ∏è Productos",
      "item": [
        {
          "name": "Obtener Todos los Productos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "products"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Buscar Productos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products/search?q=zapatos&genero=Unisex&limit=5",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "zapatos"
                },
                {
                  "key": "genero",
                  "value": "Unisex"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "Productos Destacados",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products/featured?limit=8",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "featured"],
              "query": [
                {
                  "key": "limit",
                  "value": "8"
                }
              ]
            }
          }
        },
        {
          "name": "Obtener Producto por ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/products/1",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "1"]
            }
          }
        },
        {
          "name": "Crear Producto (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Jordan Air 1 Retro\",\n  \"precio\": 450000,\n  \"precio_original\": 500000,\n  \"descripcion\": \"Zapatillas cl√°sicas de Jordan con tecnolog√≠a Air\",\n  \"genero\": \"Unisex\",\n  \"categoria_id\": 1,\n  \"stock\": 50,\n  \"rating\": 4.8,\n  \"tallas\": [\"7\", \"7.5\", \"8\", \"8.5\", \"9\", \"9.5\", \"10\", \"10.5\", \"11\", \"11.5\", \"12\"],\n  \"imagenes\": [\n    \"https://ejemplo.com/imagen1.jpg\",\n    \"https://ejemplo.com/imagen2.jpg\"\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/products",
              "host": ["{{base_url}}"],
              "path": ["api", "products"]
            }
          }
        },
        {
          "name": "Actualizar Producto (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Jordan Air 1 Retro - Edici√≥n Especial\",\n  \"precio\": 480000,\n  \"stock\": 30,\n  \"rating\": 4.9\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/products/1",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "1"]
            }
          }
        },
        {
          "name": "Eliminar Producto (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/products/1",
              "host": ["{{base_url}}"],
              "path": ["api", "products", "1"]
            }
          }
        }
      ]
    },
    {
      "name": "üìÇ Categor√≠as",
      "item": [
        {
          "name": "Obtener Todas las Categor√≠as",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/categories",
              "host": ["{{base_url}}"],
              "path": ["api", "categories"]
            }
          }
        },
        {
          "name": "Obtener Categor√≠a por ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/categories/1",
              "host": ["{{base_url}}"],
              "path": ["api", "categories", "1"]
            }
          }
        },
        {
          "name": "Crear Categor√≠a (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Accesorios\",\n  \"descripcion\": \"Accesorios deportivos y de moda\",\n  \"estado\": \"Activo\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/categories",
              "host": ["{{base_url}}"],
              "path": ["api", "categories"]
            }
          }
        },
        {
          "name": "Actualizar Categor√≠a (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Zapatos Deportivos\",\n  \"descripcion\": \"Calzado deportivo de alta calidad\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/categories/1",
              "host": ["{{base_url}}"],
              "path": ["api", "categories", "1"]
            }
          }
        },
        {
          "name": "Eliminar Categor√≠a (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/categories/1",
              "host": ["{{base_url}}"],
              "path": ["api", "categories", "1"]
            }
          }
        }
      ]
    },
    {
      "name": "üõí Carrito",
      "item": [
        {
          "name": "Obtener Carrito",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/cart",
              "host": ["{{base_url}}"],
              "path": ["api", "cart"]
            }
          }
        },
        {
          "name": "Agregar al Carrito",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"producto_id\": 1,\n  \"cantidad\": 2,\n  \"talla\": \"9\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/cart/add",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "add"]
            }
          }
        },
        {
          "name": "Actualizar Item del Carrito",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"producto_id\": 1,\n  \"cantidad\": 3,\n  \"talla\": \"9\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/cart/update",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "update"]
            }
          }
        },
        {
          "name": "Eliminar del Carrito",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"producto_id\": 1,\n  \"talla\": \"9\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/cart/remove",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "remove"]
            }
          }
        },
        {
          "name": "Limpiar Carrito",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/cart/clear",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "clear"]
            }
          }
        },
        {
          "name": "Resumen del Carrito",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/cart/summary",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "summary"]
            }
          }
        }
      ]
    },
    {
      "name": "üì¶ Pedidos",
      "item": [
        {
          "name": "Crear Pedido",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre_cliente\": \"Juan P√©rez\",\n  \"documento_identificacion\": \"1234567890\",\n  \"telefono_contacto\": \"3001234567\",\n  \"correo_electronico\": \"juan.perez@email.com\",\n  \"direccion_envio\": \"Calle 123 #45-67, Bogot√°\",\n  \"referencia_direccion\": \"Cerca al centro comercial\",\n  \"indicaciones_adicionales\": \"Dejar en porter√≠a\",\n  \"horario_preferido\": \"Ma√±ana\",\n  \"metodo_pago\": \"Contra Entrega\",\n  \"tiempo_estimado_entrega\": \"2-3 d√≠as h√°biles\",\n  \"prioridad\": \"normal\",\n  \"productos\": [\n    {\n      \"producto_id\": 1,\n      \"cantidad\": 2,\n      \"talla\": \"9\"\n    },\n    {\n      \"producto_id\": 2,\n      \"cantidad\": 1,\n      \"talla\": \"M\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/orders",
              "host": ["{{base_url}}"],
              "path": ["api", "orders"]
            }
          }
        },
        {
          "name": "Mis Pedidos",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/my-orders?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "my-orders"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Obtener Pedido por ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/my-orders/1",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "my-orders", "1"]
            }
          }
        },
        {
          "name": "Rastrear Pedido",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/orders/track/PED-ABC123",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "track", "PED-ABC123"]
            }
          }
        },
        {
          "name": "Cancelar Pedido",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/1/cancel",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "1", "cancel"]
            }
          }
        },
        {
          "name": "Todos los Pedidos (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/all?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "all"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Actualizar Estado (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"estado\": \"aceptada\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/orders/1/status",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", "1", "status"]
            }
          }
        }
      ]
    },
    {
      "name": "üë• Usuarios (Admin)",
      "item": [
        {
          "name": "Listar Usuarios",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "users"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Obtener Usuario por ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/1",
              "host": ["{{base_url}}"],
              "path": ["api", "users", "1"]
            }
          }
        },
        {
          "name": "Crear Usuario",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Mar√≠a\",\n  \"apellido\": \"Gonz√°lez\",\n  \"tipo_documento\": \"C√©dula de Ciudadan√≠a\",\n  \"documento\": \"9876543210\",\n  \"telefono\": \"3009876543\",\n  \"email\": \"maria.gonzalez@email.com\",\n  \"password\": \"SuPassword123!\",\n  \"rol\": \"cliente\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/users",
              "host": ["{{base_url}}"],
              "path": ["api", "users"]
            }
          }
        },
        {
          "name": "Actualizar Usuario",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Mar√≠a Elena\",\n  \"apellido\": \"Gonz√°lez L√≥pez\",\n  \"telefono\": \"3001111111\",\n  \"estado\": \"activo\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/users/1",
              "host": ["{{base_url}}"],
              "path": ["api", "users", "1"]
            }
          }
        },
        {
          "name": "Cambiar Estado Usuario",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"estado\": \"inactivo\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/users/1/status",
              "host": ["{{base_url}}"],
              "path": ["api", "users", "1", "status"]
            }
          }
        },
        {
          "name": "Buscar Usuarios",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/search?q=maria&limit=5",
              "host": ["{{base_url}}"],
              "path": ["api", "users", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "maria"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          }
        },
        {
          "name": "Estad√≠sticas Usuarios",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/stats",
              "host": ["{{base_url}}"],
              "path": ["api", "users", "stats"]
            }
          }
        }
      ]
    },
    {
      "name": "üè• Sistema",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/health",
              "host": ["{{base_url}}"],
              "path": ["api", "health"]
            }
          }
        },
        {
          "name": "Informaci√≥n API",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/info",
              "host": ["{{base_url}}"],
              "path": ["api", "info"]
            }
          }
        },
        {
          "name": "P√°gina Principal",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""]
            }
          }
        }
      ]
    }
  ]
}
